{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\sweth\\\\OneDrive\\\\Desktop\\\\week9\\\\expofirebase\\\\App.js\";\nimport 'react-native-gesture-handler';\nimport React, { useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { Provider as PaperProvider } from 'react-native-paper';\nimport { LoginScreen, HomeScreen, RegistrationScreen } from \"./src/screens\";\nimport { decode, encode } from 'base-64';\nif (!global.btoa) {\n  global.btoa = encode;\n}\nif (!global.atob) {\n  global.atob = decode;\n}\nimport { firebase } from \"./src/firebase/config\";\nvar Stack = createStackNavigator();\nexport default function App() {\n  var _this = this;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    user = _useState4[0],\n    setUser = _useState4[1];\n  useEffect(function () {\n    var usersRef = firebase.firestore().collection('users');\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        usersRef.doc(user.uid).get().then(function (document) {\n          var userData = document.data();\n          setLoading(false);\n          setUser(userData);\n        }).catch(function (error) {\n          setLoading(false);\n        });\n      } else {\n        setLoading(false);\n      }\n    });\n  }, []);\n  if (loading) {\n    return React.createElement(React.Fragment, null);\n  }\n  return React.createElement(PaperProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, React.createElement(NavigationContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, React.createElement(Stack.Navigator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, user ? React.createElement(Stack.Screen, {\n    name: \"Home\",\n    options: {\n      headerShown: false\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, function (props) {\n    return React.createElement(HomeScreen, _extends({}, props, {\n      extraData: user,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }));\n  }) : React.createElement(React.Fragment, null, React.createElement(Stack.Screen, {\n    name: \"Login\",\n    component: LoginScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Registration\",\n    component: RegistrationScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Home\",\n    options: {\n      headerShown: false\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, function (props) {\n    return React.createElement(HomeScreen, _extends({}, props, {\n      extraData: user,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }));\n  })))));\n}","map":{"version":3,"names":["React","useEffect","useState","NavigationContainer","createStackNavigator","Provider","PaperProvider","LoginScreen","HomeScreen","RegistrationScreen","decode","encode","global","btoa","atob","firebase","Stack","App","loading","setLoading","user","setUser","usersRef","firestore","collection","auth","onAuthStateChanged","doc","uid","get","then","document","userData","data","catch","error","headerShown","props"],"sources":["C:/Users/sweth/OneDrive/Desktop/week9/expofirebase/App.js"],"sourcesContent":["import 'react-native-gesture-handler';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { NavigationContainer } from '@react-navigation/native'\r\nimport { createStackNavigator } from '@react-navigation/stack'\r\nimport { Provider as PaperProvider } from 'react-native-paper';\r\nimport { LoginScreen, HomeScreen, RegistrationScreen } from './src/screens'\r\nimport { decode, encode } from 'base-64'\r\nif (!global.btoa) { global.btoa = encode }\r\nif (!global.atob) { global.atob = decode }\r\nimport { firebase } from './src/firebase/config'\r\n\r\nconst Stack = createStackNavigator();\r\n\r\nexport default function App() {\r\n\r\n  const [loading, setLoading] = useState(true)\r\n  const [user, setUser] = useState(null)\r\n  useEffect(() => {\r\n    const usersRef = firebase.firestore().collection('users');\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        usersRef\r\n          .doc(user.uid)\r\n          .get()\r\n          .then((document) => {\r\n            const userData = document.data()\r\n            setLoading(false)\r\n            setUser(userData)\r\n          })\r\n          .catch((error) => {\r\n            setLoading(false)\r\n          });\r\n      } else {\r\n        setLoading(false)\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <></>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <PaperProvider>\r\n      <NavigationContainer>\r\n        <Stack.Navigator>\r\n          {user ? (\r\n            <Stack.Screen name=\"Home\" options={{headerShown:false}}>\r\n              {props => <HomeScreen {...props} extraData={user} />}\r\n            </Stack.Screen>\r\n          ) : (\r\n            <>\r\n              <Stack.Screen name=\"Login\" component={LoginScreen} />\r\n              <Stack.Screen name=\"Registration\" component={RegistrationScreen} />\r\n              <Stack.Screen name=\"Home\" options={{headerShown:false}}>\r\n              {props => <HomeScreen {...props} extraData={user} />}\r\n            </Stack.Screen>\r\n            </>\r\n          )}\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    </PaperProvider>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}